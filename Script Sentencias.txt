--SENTENCIAS 

--1.-Agregar un juego de mesa / carta al carrito de compras
--mostrar todos los carritos y su contenido
SELECT 
  c.id_carrito,
  c.id_usuario,
  u.nombre_user AS usuario,
  cp.id_producto,
  p.precio,
  cp.cantidad,
  p.url_imagen,
  p.id_tienda,
  t.nombre_t AS tienda,
  c.estado AS comprado
FROM carrito c
JOIN carrito_producto cp ON c.id_carrito = cp.id_carrito
JOIN producto p ON cp.id_producto = p.id_producto
JOIN usuario u ON c.id_usuario = u.id_usuario
JOIN tienda t ON p.id_tienda = t.id_tienda
ORDER BY c.id_carrito, cp.id_producto;

--agregar un producto al carrito 
INSERT INTO carrito_producto (id_carrito, id_producto, cantidad)
VALUES (1,7,1);

--mostrar el contenido del carrito 1 despues del insert
SELECT 
  cp.id_carrito,
  p.id_producto,
  p.url_imagen,
  p.precio,
  cp.cantidad
FROM carrito_producto cp
JOIN producto p ON cp.id_producto = p.id_producto
WHERE cp.id_carrito = 1;

--2.-Eliminar un juego de mesa/ cartas del carrito de compras
--mostrar el carrito de compras del usuario 
SELECT cp.id_carrito_producto, cp.id_carrito, p.id_producto, p.precio, cp.cantidad, p.url_imagen
FROM carrito_producto cp
JOIN carrito c ON cp.id_carrito = c.id_carrito
JOIN producto p ON cp.id_producto = p.id_producto
WHERE c.id_usuario = 7 AND c.estado = FALSE;

--eliminar un producto espec√≠fico del carrito
DELETE FROM carrito_producto
WHERE id_carrito IN (
  SELECT id_carrito
  FROM carrito
  WHERE id_usuario = 7 AND estado = FALSE
)
AND id_producto = 6;

--ver contenido actualizado del carrito
SELECT cp.id_carrito_producto, cp.id_carrito, p.id_producto, p.precio, cp.cantidad
FROM carrito_producto cp
JOIN carrito c ON cp.id_carrito = c.id_carrito
JOIN producto p ON cp.id_producto = p.id_producto
WHERE c.id_usuario = 7 AND c.estado = FALSE;

--3.-Mostrar los juegos de mesa/cartas del carrito de compras 

--4.-Mostrar el precio total a pagar por el carrito de compras 

--5.- Mostrar todos los juegos de mesa y cartas que se vendan en una ubicacion geografica especifica 

--6.- Mostrar ranking de los productos con mas ventan 

--7.- Mostrar lista de deseos de un usuario
